(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){},17:function(e,t,n){e.exports=n(33)},22:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(15),i=n.n(o),l=(n(22),n(1)),s=n(2),c=n(4),u=n(3),m=n(5);function f(e,t,n){var r=e.createShader(t);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS)){var a=String(e.getShaderInfoLog(r));return e.deleteShader(r),a}return r}n(10),n(7);var h=n(16),d=n.n(h),g=(n(31),n(32),"void mainImage( out vec4 fragColor, in vec2 fragCoord )\n{\n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = fragCoord/iResolution.xy;\n\n    // Time varying pixel color\n    vec3 col = 0.5 + 0.5*cos(iTime+uv.xyx+vec3(0,2,4));\n\n    // Output to screen\n    fragColor = vec4(col,1.0);\n}\n"),v=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onChange=function(t){e.latestValue=t},e.latestValue=g,e.ref=a.a.createRef(),e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"editorContainer"},a.a.createElement("div",null,a.a.createElement("button",null,"BUTTON!"),a.a.createElement("button",null,"BUTTON!"),a.a.createElement("button",null,"BUTTON!"),a.a.createElement("button",null,"BUTTON!"),a.a.createElement("button",null,"BUTTON!"),a.a.createElement("button",null,"BUTTON!"),a.a.createElement("button",null,"BUTTON!")),a.a.createElement("div",{className:"boxContainer"},a.a.createElement(d.a,{mode:"glsl",theme:"github",onChange:this.onChange,name:"editor",editorProps:{$blockScrolling:!0},class:"editor",value:this.latestValue,ref:this.ref,annotations:this.props.annotations})),a.a.createElement("div",null,a.a.createElement("button",{onClick:function(){return e.props.onRun(e.latestValue)}},"RUN!"),a.a.createElement("button",null,"RUN!"),a.a.createElement("button",null,"RUN!"),a.a.createElement("button",null,"RUN!"),a.a.createElement("button",null,"RUN!"),a.a.createElement("button",null,"RUN!"),a.a.createElement("button",null,"RUN!")))}}]),t}(r.PureComponent),b="#version 300 es\nin vec4 aVertexPosition;\nvoid main() {\n  gl_Position =  aVertexPosition;\n}",E="#version 300 es\n  precision mediump float;\n  uniform vec2 iResolution;\n  uniform float iTime;\n  uniform vec2 iMouse;\n  out vec4 fragColor;\n\n  void mainImage(out vec4 fragColor, in vec2 fragCoord);\n  void main() {\n    mainImage(fragColor, gl_FragCoord.xy);\n  }\n\n\n",p=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).initPass=function(t){if(e.shaderProgram=function(e,t,n){var r=f(e,e.VERTEX_SHADER,t),a=f(e,e.FRAGMENT_SHADER,n);if("object"!==typeof a)return a;var o=e.createProgram();return e.attachShader(o,r),e.attachShader(o,a),e.linkProgram(o),e.getProgramParameter(o,e.LINK_STATUS)?o:(alert("Unable to initialize the shader program: "+e.getProgramInfoLog(o)),null)}(e.gl,b,E+t),e.setState({errors:[]}),"object"!==typeof e.shaderProgram){var n=e.shaderProgram.split(":"),r=Number(n[2])-E.split("\n").length,a=n.slice(3).join(" ");return e.setState({errors:[{row:r,text:a,type:"error"}]}),void setTimeout(2e3,function(){return e.setState({errors:null})})}e.passes.push({screenWidth:1280,screenHeight:720,program:e.shaderProgram,attribLocations:{vertexPosition:e.gl.getAttribLocation(e.shaderProgram,"aVertexPosition")},uniformLocations:{iTime:e.gl.getUniformLocation(e.shaderProgram,"iTime"),resolution:e.gl.getUniformLocation(e.shaderProgram,"iResolution")}}),e.buffers=function(e){var t=e.createBuffer();return e.bindBuffer(e.ARRAY_BUFFER,t),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,1,1,1,-1,-1,1,-1]),e.STATIC_DRAW),{position:t}}(e.gl),requestAnimationFrame(e.animate)},e.onRun=function(t){e.passes=[],console.log(t),e.initPass(t)},e.animate=function(){e.passes.forEach(function(t,n){!function(e,t,n,r,a,o){e.clearColor(0,0,0,1),e.clearDepth(1),e.enable(e.DEPTH_TEST),e.depthFunc(e.LEQUAL),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT);var i=e.FLOAT;e.bindBuffer(e.ARRAY_BUFFER,n.position),e.vertexAttribPointer(t.attribLocations.vertexPosition,2,i,!1,0,0),e.enableVertexAttribArray(t.attribLocations.vertexPosition),e.useProgram(t.program);var l=[1280,720];e.uniform2f(t.uniformLocations.resolution,l[0],l[1]),e.uniform1f(t.uniformLocations.iTime,performance.now()/1e3),o?(e.bindFramebuffer(e.FRAMEBUFFER,null),e.viewport(0,0,t.screenWidth,t.screenHeight)):(e.bindFramebuffer(e.FRAMEBUFFER,r.fbo),e.bindTexture(e.TEXTURE_2D,a.texture),e.uniform1i(t.bufferLocations[0],0),e.viewport(0,0,r.width,r.height)),e.drawArrays(e.TRIANGLE_STRIP,0,4)}(e.gl,t,e.buffers,e.readBuffer,e.writeBuffer,n===e.passes.length-1)}),requestAnimationFrame(e.animate)},e.ref=a.a.createRef(),e.state={errors:[]},e}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.canvas=this.ref.current,this.canvas.width=720,this.canvas.height=480,this.canvas.style.backgroundColor="black",this.gl=this.canvas.getContext("webgl2"),this.passes=[]}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"header"}),a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"canvasContainer"},a.a.createElement("div",null,"."),a.a.createElement("div",{className:"boxContainer"},a.a.createElement("canvas",{ref:this.ref}))),a.a.createElement(v,{annotations:this.state.errors,onRun:this.onRun})))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(a.a.createElement(p,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[17,1,2]]]);
//# sourceMappingURL=main.3b2ca90b.chunk.js.map